# π“ ST (System Trading) v0.1 - κ°λ° TODO λ¦¬μ¤νΈ

## π― **ν”„λ΅μ νΈ κ°μ”**
- **λ©ν‘**: μ¤μ™ λ§¤λ§¤ κΈ°λ° ν•κµ­ μ£Όμ‹ μλ™λ§¤λ§¤ μ‹μ¤ν…
- **ν•µμ‹¬**: 10μ΄ λ‹¨μ„ Stop Loss/Take Profit μ‹¤μ‹κ°„ λ¨λ‹ν„°λ§
- **μµλ€ λ³΄μ **: 20κ° μΆ…λ© λ™μ‹ κ΄€λ¦¬
- **λ°μ΄ν„°**: FinanceDataReader, pykrx, ν•κµ­ν¬μμ¦κ¶ API

---

## π“‹ **κ°λ° λ‹¨κ³„λ³„ TODO**

### **π—οΈ Phase 1: μ•„ν‚¤ν…μ² μ„¤κ³„ & λ¦¬ν©ν† λ§** β… **COMPLETED**

#### β… **1.1 κΈ°μ΅΄ μ½”λ“ λ¶„μ„ λ° SW μ•„ν‚¤ν…μ² μ„¤κ³„** `[COMPLETED]`
- [x] κΈ°μ΅΄ λ¨λ“λ³„ μ—­ν•  λ¶„μ„ μ™„λ£
- [x] μƒλ΅μ΄ λ””λ ‰ν† λ¦¬ κµ¬μ΅° μ„¤κ³„
- [x] λ°μ΄ν„° ν”λ΅μ° μ„¤κ³„
- [x] API μ—”λ“ν¬μΈνΈ μ„¤κ³„

#### β… **1.2 λ©”μΈ μ‹¤ν–‰ μ½”λ“ μ‘μ„±** `[COMPLETED]`
- [x] `main.py` μ‘μ„± (μ „μ²΄ μ‹μ¤ν… μ¤μΌ€μ¤νΈλ μ΄μ…)
- [x] μ‹μ¤ν… μ΄κΈ°ν™” λ΅μ§
- [x] λ¨λ“ κ°„ μμ΅΄μ„± κ΄€λ¦¬
- [x] μ„¤μ • νμΌ λ΅λ”© λ° κ²€μ¦

#### β… **1.3 κΈ°μ΅΄ λ¨λ“ λ¦¬ν©ν† λ§** `[COMPLETED]`
- [x] `UnifiedDataProvider` ν†µν•© ν΄λμ¤ μƒμ„±
- [x] `RiskManager` ν΄λμ¤ μ‹ κ· μƒμ„±
- [x] κ³µν†µ μΈν„°νμ΄μ¤ μ •μ
- [x] config.yaml κµ¬μ²΄ν™”

---

### **β™οΈ Phase 2: λ°±ν…μ¤ν… μ—”μ§„ & μ›Ή μ‹κ°ν™”** β… **COMPLETED**

#### β… **2.1 μƒλ΅μ΄ λ°±ν…μ¤ν… μ—”μ§„** `[COMPLETED]`
- [x] **BacktestEngine ν΄λμ¤**
  - [x] λ‹¤μ–‘ν• μ „λµ μ§€μ› (λ³Όλ¦°μ €λ°΄λ“, RSI, μ΄λ™ν‰κ· κµμ°¨)
  - [x] μƒμ„Έν• μ„±κ³Ό λ¶„μ„ (μμµλ¥ , μΉλ¥ , μƒ¤ν”„λΉ„μ¨, μµλ€λ‚™ν­)
  - [x] λ¦¬μ¤ν¬ κ΄€λ¦¬ ν†µν•© (ν¬μ§€μ… ν¬κΈ°, μμλ£)
  - [x] κ±°λ λ‚΄μ—­ μ¶”μ  (μ§„μ…/μ²­μ‚° μ΄μ , μμµλ¥ )

#### β… **2.2 μ „λµ μ‹μ¤ν…** `[COMPLETED]`
- [x] **BaseStrategy μ¶”μƒ ν΄λμ¤**
- [x] **μƒν” μ „λµλ“¤**
  - [x] BollingerBandStrategy
  - [x] RSIStrategy  
  - [x] MovingAverageCrossStrategy
- [x] λ™μ  νλΌλ―Έν„° μ΅°μ • μ‹μ¤ν…

#### β… **2.3 μ›Ή κΈ°λ° μ‹κ°ν™”** `[COMPLETED]`
- [x] **FastAPI λ°±μ—”λ“**
  - [x] λ°±ν…μ¤νΈ API (`/api/backtest/`)
  - [x] λ°μ΄ν„° API (`/api/data/`)
  - [x] μ „λµ API (`/api/strategy/`)
- [x] **μ›Ή μΈν„°νμ΄μ¤**
  - [x] λ€μ‹λ³΄λ“ (`/`)
  - [x] λ°±ν…μ¤ν… νμ΄μ§€ (`/backtest`)
  - [x] μ „λµ κ΄€λ¦¬ νμ΄μ§€ (`/strategy`)

#### β… **2.4 μ „λµ μ„¤μ • λ³€κ²½ UI** `[COMPLETED]`
- [x] **λ™μ  νλΌλ―Έν„° μ΅°μ •**
  - [x] μ‹¤μ‹κ°„ νλΌλ―Έν„° λ³€κ²½
  - [x] νλΌλ―Έν„° μ ν¨μ„± κ²€μ¦
  - [x] μ „λµ μ €μ¥/λ΅λ“ μ‹μ¤ν…
- [x] **μ‹¤μ‹κ°„ λ―Έλ¦¬λ³΄κΈ°**
  - [x] νλΌλ―Έν„° λ³€κ²½ μ‹ μ¦‰μ‹ λ°μ
  - [x] μμƒ μ‹ νΈ λ° κ±°λ μ ν‘μ‹
  - [x] μ‹κ°μ  ν”Όλ“λ°±

---

### **π” Phase 3: μΆ…λ© λ°κµ΄ & μ „λµ μ‹μ¤ν…** π”„ **IN_PROGRESS**

#### β… **3.1 μΆ…λ© λ°κµ΄ μ‹μ¤ν… ν†µν•©** `[COMPLETED]`
- [x] **μ¬λ¬΄μ ν‘ κΈ°λ° μΆ…λ© μ¤ν¬λ¦¬λ‹** (finance_score.py)
  - [x] λ„¤μ΄λ²„ μ¬λ¬΄μ ν‘ ν¬λ΅¤λ§
  - [x] μ¬λ¬΄ μ μ κ³„μ‚° μ•κ³ λ¦¬μ¦ 
  - [x] λ©€ν‹°ν”„λ΅μ„Έμ‹± κΈ°λ° μ„±λ¥ μµμ ν™”
- [x] **μΆ…λ© κ²€μƒ‰ λ° ν…λ§/μ—…μΆ… λ¶„μ„** (search_stocks.py)
  - [x] λ„¤μ΄λ²„ μ£Όμ‹ ν…λ§/μ—…μΆ… ν¬λ΅¤λ§
  - [x] μΆ…λ©λ³„ μƒνƒ ν™•μΈ λ° ν•„ν„°λ§
  - [x] λ§¤μ μ΅°κ±΄ λ§μ΅± μΆ…λ© μλ™ μ„ λ³„
- [x] **κ±°μ‹κ²½μ  λ¶„μ„** (search_macro.py)
  - [x] ETF κΈ°λ° κ±°μ‹κ²½μ  μ§€ν‘ λ¶„μ„
  - [x] μ‹μ¥ μƒν™© νλ‹¨ μ•κ³ λ¦¬μ¦
  - [x] λ¶„μ„ κ²°κ³Ό λ°ν™ κΈ°λ¥ μ¶”κ°€
- [x] **main.py ν†µν•©**
  - [x] μΆ…λ© λ°κµ΄ ν”„λ΅μ„Έμ¤ ν†µν•© (discovery λ¨λ“)
  - [x] μ„¤μ • κΈ°λ° μλ™ μ‹¤ν–‰
  - [x] κ²°κ³Ό λ°μ΄ν„° ν‘μ¤€ν™” λ° λ¦¬ν¬νΈ μƒμ„±

#### β… **3.2 μ „λµ μ‹μ¤ν… λ¦¬ν©ν† λ§** `[COMPLETED]`
- [x] **system_trade.py λ¦¬ν©ν† λ§**
  - [x] ν•λ“μ½”λ”©λ μ „λµ λ΅μ§ λ¶„λ¦¬
  - [x] μ„¤μ • κΈ°λ° μ „λµ μ‹¤ν–‰ μ‹μ¤ν…
  - [x] main.pyμ™€μ ν†µν•© (trading λ¨λ“)
- [x] **BaseStrategy μƒμ† κµ¬μ΅°**
  - [x] μ „λµ λ² μ΄μ¤ ν΄λμ¤ μ„¤κ³„ (BaseTradingStrategy)
  - [x] κΈ°μ΅΄ μ „λµλ“¤ methodν™” (λ³Όλ¦°μ €λ°΄λ“, RSI, λ³µν•©μ „λµ)
  - [x] μ „λµ νμΌ μ‹μ¤ν… κµ¬μ¶•
- [x] **κ±°λ μ—”μ§„ μ‹μ¤ν…**
  - [x] TradingEngine ν΄λμ¤ κµ¬ν„
  - [x] μ‹¤μ‹κ°„ ν¬μ§€μ… κ΄€λ¦¬
  - [x] λ¦¬μ¤ν¬ κ΄€λ¦¬ μ‹μ¤ν…
  - [x] μ‹ νΈ μƒμ„± λ° μ‹¤ν–‰ μ‹μ¤ν…

#### β… **3.3 μ›Ή UI ν™•μ¥** `[COMPLETED]`
- [x] **μΆ…λ© λ°κµ΄ νμ΄μ§€**
  - [x] μΆ…λ© λ°κµ΄ μ‹¤ν–‰ μΈν„°νμ΄μ¤
  - [x] κ±°μ‹κ²½μ  λ¶„μ„ κ²°κ³Ό ν‘μ‹
  - [x] ν›„λ³΄ μΆ…λ© λ©λ΅ λ° μƒμ„Έ μ •λ³΄
  - [x] μ„Ήν„°λ³„ λ¶„μ„ μ°¨νΈ
- [x] **API λΌμ°νΈ κµ¬μ¶•**
  - [x] /api/discovery/* μ—”λ“ν¬μΈνΈ
  - [x] λ°±κ·ΈλΌμ΄λ“ μ‘μ—… μ²λ¦¬
  - [x] λ¦¬ν¬νΈ κ΄€λ¦¬ μ‹μ¤ν…

---

### **π Phase 4: λ°±μ—”λ“ μ„λ²„ κµ¬μ¶•** β… **COMPLETED**

#### β… **4.1 FastAPI λ°±μ—”λ“ μ„λ²„** `[COMPLETED]`
- [x] **κΈ°λ³Έ μ„λ²„ κµ¬μ΅°**
  - [x] FastAPI μ•± μ΄κΈ°ν™”
  - [x] λ―Έλ“¤μ›¨μ–΄ μ„¤μ • (CORS, λ΅κΉ…)
  - [x] μμ™Έ μ²λ¦¬ ν•Έλ“¤λ¬
- [x] **API μ—”λ“ν¬μΈνΈ**
  - [x] `/api/backtest` - λ°±ν…μ¤ν…
  - [x] `/api/data` - λ°μ΄ν„° μ΅°ν
  - [x] `/api/strategy` - μ „λµ κ΄€λ¦¬
  - [x] μ „λµ μ €μ¥/λ΅λ“ κΈ°λ¥

#### **4.2 μ‹¤μ‹κ°„ WebSocket** `[PENDING]`
- [ ] μ‹¤μ‹κ°„ ν¬νΈν΄λ¦¬μ¤ μ—…λ°μ΄νΈ
- [ ] κ±°λ μ‹ νΈ λΈλ΅λ“μΊμ¤νΈ
- [ ] μ‹μ¤ν… μƒνƒ λ¨λ‹ν„°λ§
- [ ] μ—λ¬ μ•λ¦Ό

---

### **β΅ Phase 5: μ‹¤μ‹κ°„ κ±°λ μ—”μ§„** `[PENDING]`

#### **5.1 μ‹¤μ‹κ°„ λ¨λ‹ν„°λ§** `[HIGH_PRIORITY]`
- [ ] **10μ΄ λ‹¨μ„ μ²΄ν¬ λ£¨ν”„**
  - [ ] ν¬μ§€μ…λ³„ Stop Loss λ¨λ‹ν„°λ§
  - [ ] Take Profit μ΅°κ±΄ ν™•μΈ
  - [ ] μ‹¤μ‹κ°„ κ°€κ²© λ°μ΄ν„° μμ‹ 
- [ ] **λ™μ  μ΅°κ±΄ λ³€κ²½**
  - [ ] μ‹¤μ‹κ°„ Stop Loss μμ •
  - [ ] Take Profit λ©ν‘κ°€ μ΅°μ •
  - [ ] κΈ΄κΈ‰ λ§¤λ„ κΈ°λ¥

#### **5.2 λ¦¬μ¤ν¬ κ΄€λ¦¬** `[HIGH_PRIORITY]`
- [ ] μµλ€ 20κ° μΆ…λ© μ ν•
- [ ] ν¬μ§€μ… ν¬κΈ° μ ν•
- [ ] μΌμΌ μ†μ‹¤ ν•λ„
- [ ] κ³„μΆ μ”κ³  λ¨λ‹ν„°λ§

#### **5.3 ν•κµ­ν¬μμ¦κ¶ API μ—°λ™** `[PENDING]`
- [ ] μ‹¤μ‹κ°„ μ£Όκ°€ λ°μ΄ν„° μμ‹ 
- [ ] μ£Όλ¬Έ μ‹¤ν–‰ (λ§¤μ/λ§¤λ„)
- [ ] ν¬μ§€μ… μ΅°ν
- [ ] μ”κ³  ν™•μΈ

---

### **π”” Phase 6: μ•λ¦Ό & λ¨λ‹ν„°λ§** `[PENDING]`

#### **6.1 ν…”λ κ·Έλ¨ μ•λ¦Ό μ‹μ¤ν…** `[PENDING]`
- [ ] λ§¤λ§¤ μ‹ νΈ μ•λ¦Ό
- [ ] ν¬νΈν΄λ¦¬μ¤ μƒνƒ μ•λ¦Ό
- [ ] μ—λ¬ λ° μ‹μ¤ν… μ•λ¦Ό
- [ ] μΌμΌ μμµλ¥  λ¦¬ν¬νΈ

#### **6.2 λ΅κΉ… μ‹μ¤ν…** `[PENDING]`
- [ ] κµ¬μ΅°ν™”λ λ΅κΉ… (JSON ν•νƒ)
- [ ] μ‹¤μ‹κ°„ κ±°λ λ΅κ·Έ (1-2λ¶„ μ£ΌκΈ°)
- [ ] μ—λ¬ μ¶”μ  λ° μ•λ¦Ό
- [ ] μ„±λ¥ λ¨λ‹ν„°λ§ λ΅κ·Έ

---

### **π” Phase 7: λ³΄μ• & μΈμ¦** `[PENDING]`

#### **7.1 μΈμ¦ μ‹μ¤ν…** `[PENDING]`
- [ ] κµ¬κΈ€ OAuth 2.0 μ—°λ™
- [ ] JWT ν† ν° κ΄€λ¦¬
- [ ] μ„Έμ… κ΄€λ¦¬
- [ ] κ¶ν• λ λ²¨ κ΄€λ¦¬

#### **7.2 λ³΄μ• κ°•ν™”** `[PENDING]`
- [ ] API ν‚¤ μ•”νΈν™” μ €μ¥
- [ ] μ”μ²­ μ†λ„ μ ν•
- [ ] SQL μΈμ μ… λ°©μ§€
- [ ] XSS λ°©μ§€

---

### **π—„οΈ Phase 8: λ°μ΄ν„°λ² μ΄μ¤ & λ°°ν¬** `[PENDING]`

#### **8.1 λ°μ΄ν„°λ² μ΄μ¤** `[PENDING]`
- [ ] SQLite λ΅μ»¬ DB μ„¤κ³„
- [ ] Supabase λ°±μ—… μ‹μ¤ν…
- [ ] λ°μ΄ν„° λ§μ΄κ·Έλ μ΄μ…
- [ ] λ°±μ—…/λ³µκµ¬ μλ™ν™”

#### **8.2 Docker & λ°°ν¬** `[PENDING]`
- [ ] Dockerfile μ‘μ„±
- [ ] docker-compose.yml μ„¤μ •
- [ ] ν™κ²½λ³€μ κ΄€λ¦¬
- [ ] ν΄λΌμ°λ“ λ°°ν¬ μ¤ν¬λ¦½νΈ

---

## π€ **ν„μ¬ μ§„ν–‰ μƒν™© (2024-12-19)**

### β… **μ™„λ£λ κΈ°λ¥λ“¤**

1. **λ°±ν…μ¤ν… μ—”μ§„** - μ™„μ „ν μƒλ΅ κµ¬μ¶•
   - λ‹¤μ–‘ν• μ „λµ μ§€μ› (λ³Όλ¦°μ €λ°΄λ“, RSI, μ΄λ™ν‰κ· κµμ°¨)
   - μƒμ„Έν• μ„±κ³Ό λ¶„μ„ λ° κ±°λ λ‚΄μ—­ μ¶”μ 
   - λ¦¬μ¤ν¬ κ΄€λ¦¬ λ° μμλ£ κ³ λ ¤

2. **μ›Ή κΈ°λ° μ‹κ°ν™”** - FastAPI + HTML/JavaScript
   - λ€μ‹λ³΄λ“: ν¬νΈν΄λ¦¬μ¤ μ„±κ³Ό, μ£Όμ” μ§€ν‘, μ‹¤μ‹κ°„ μ°¨νΈ
   - λ°±ν…μ¤ν… νμ΄μ§€: μ „λµ μ„¤μ •, μ‹¤μ‹κ°„ μ§„ν–‰μƒνƒ, κ²°κ³Ό μ‹κ°ν™”
   - μ „λµ κ΄€λ¦¬ νμ΄μ§€: λ™μ  νλΌλ―Έν„° μ΅°μ •, μ „λµ μ €μ¥/λ΅λ“

3. **μ „λµ μ„¤μ • λ³€κ²½ UI** - λ™μ  νλΌλ―Έν„° μ΅°μ •
   - μ‹¤μ‹κ°„ νλΌλ―Έν„° λ³€κ²½ λ° μ ν¨μ„± κ²€μ¦
   - μ „λµ μ €μ¥/λ΅λ“ μ‹μ¤ν…
   - μ‹¤μ‹κ°„ λ―Έλ¦¬λ³΄κΈ° λ° μ‹κ°μ  ν”Όλ“λ°±

4. **λ°μ΄ν„° ν†µν•© μ‹μ¤ν…**
   - UnifiedDataProvider: μ—¬λ¬ λ°μ΄ν„° μ†μ¤ ν†µν•©
   - ν΄λ°± λ©”μ»¤λ‹μ¦ λ° μ—λ¬ μ²λ¦¬

### π”„ **ν„μ¬ μ‹¤ν–‰ μ¤‘**
- FastAPI μ„λ²„: http://localhost:8000
- μ›Ή μΈν„°νμ΄μ¤ μ ‘κ·Ό κ°€λ¥

### π“ **μƒλ΅μ΄ λ””λ ‰ν† λ¦¬ κµ¬μ΅°**
```
ST_ver0.1/
β”β”€β”€ core/
β”‚   β”β”€β”€ engines/          # λ°±ν…μ¤ν…/νΈλ μ΄λ”© μ—”μ§„
β”‚   β”β”€β”€ strategies/       # μ „λµ λ¨λ“
β”‚   β”β”€β”€ data_providers/   # λ°μ΄ν„° μ κ³µμ
β”‚   β””β”€β”€ risk_management/  # λ¦¬μ¤ν¬ κ΄€λ¦¬
β”β”€β”€ api/
β”‚   β”β”€β”€ main.py          # FastAPI λ©”μΈ μ•±
β”‚   β””β”€β”€ routes/          # API λΌμ°νΈ
β”β”€β”€ frontend/
β”‚   β”β”€β”€ templates/       # HTML ν…ν”λ¦Ώ
β”‚   β””β”€β”€ static/          # μ •μ  νμΌ
β”β”€β”€ config/
β”‚   β”β”€β”€ strategies/      # μ €μ¥λ μ „λµ μ„¤μ •
β”‚   β””β”€β”€ config.yaml      # λ©”μΈ μ„¤μ •
β””β”€β”€ tools/
    β””β”€β”€ test_backtest.py # ν…μ¤νΈ μ¤ν¬λ¦½νΈ
```

---

## π― **λ‹¤μ μ°μ„ μμ„**

1. **μ‹¤μ‹κ°„ ν¬νΈν΄λ¦¬μ¤ λ¨λ‹ν„°λ§** (WebSocket κΈ°λ°)
2. **μ‹¤μ‹κ°„ κ±°λ μ‹ νΈ μ•λ¦Ό** (ν…”λ κ·Έλ¨ μ—°λ™)  
3. **ν•κµ­ν¬μμ¦κ¶ API μ‹¤κ±°λ μ—°λ™**
4. **μ‹¤μ‹κ°„ κ±°λ μ—”μ§„** (10μ΄ λ‹¨μ„ Stop Loss/Take Profit)

---

## π“ **μ£Όμ” κΈ°μ  μ¤νƒ**

- **Backend**: FastAPI, SQLite, Supabase
- **Frontend**: HTML/JavaScript, Bootstrap, Chart.js
- **Real-time**: WebSocket (μμ •)
- **Data**: FinanceDataReader, pykrx, ν•κµ­ν¬μμ¦κ¶ API
- **Deployment**: Docker (μμ •)
- **Monitoring**: Custom Logging, Telegram Bot (μμ •)

---

## β οΈ **μ¤‘μ” κ³ λ ¤μ‚¬ν•­**

1. **μ‹¤μ‹κ°„ μ„±λ¥**: 10μ΄ λ‹¨μ„ μ²΄ν¬ μ‹ API νΈμ¶ μµμ ν™” ν•„μ”
2. **μ—λ¬ μ²λ¦¬**: λ„¤νΈμ›ν¬ μ¥μ•  μ‹ ν΄λ°± λ©”μ»¤λ‹μ¦
3. **λ°μ΄ν„° μΌκ΄€μ„±**: μ—¬λ¬ λ°μ΄ν„° μ†μ¤ κ°„ λ™κΈ°ν™”
4. **λ³΄μ•**: API ν‚¤ λ° κ°μΈμ •λ³΄ λ³΄νΈ
5. **ν™•μ¥μ„±**: ν–¥ν›„ κΈ°λ¥ μ¶”κ°€λ¥Ό κ³ λ ¤ν• λ¨λ“ν™”

---

**λ§μ§€λ§‰ μ—…λ°μ΄νΈ**: 2024-12-19  
**λ‹¤μ μ—…λ°μ΄νΈ**: Phase 4 (μ‹¤μ‹κ°„ κ±°λ μ—”μ§„) μ™„λ£ μ‹μ 